<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Individual Summary Sheet</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(to right, #2c3e50, #4a6491);
            color: white;
            padding: 30px 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .header p {
            opacity: 0.9;
            font-size: 16px;
        }

        .form-section {
            padding: 40px;
        }

        .section-title {
            color: #2c3e50;
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 25px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eaeaea;
            position: relative;
        }

        .section-title:after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 80px;
            height: 2px;
            background: #3498db;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: 500;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e0e6ed;
            border-radius: 8px;
            font-size: 15px;
            transition: all 0.3s ease;
            background: #f8fafc;
        }

        .form-control:focus {
            outline: none;
            border-color: #3498db;
            background: white;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .form-control::placeholder {
            color: #a0aec0;
        }

        .button-group {
            display: flex;
            justify-content: flex-end;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid #eaeaea;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .btn-next {
            background: #3498db;
            color: white;
        }

        .btn-next:hover {
            background: #2980b9;
        }

        .icon {
            font-size: 16px;
        }

        .required:after {
            content: " *";
            color: #e74c3c;
        }

        .instructions {
            background: #e8f4fc;
            border-left: 4px solid #3498db;
            padding: 15px 20px;
            margin-bottom: 25px;
            border-radius: 4px;
            font-size: 14px;
            color: #2c3e50;
        }

        .instructions p {
            margin-bottom: 5px;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        .stats-row {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            background: #f8fafc;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e0e6ed;
        }

        .stats-group {
            text-align: center;
        }

        .stats-group label {
            display: block;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: 500;
            font-size: 13px;
        }

        .stats-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #e0e6ed;
            border-radius: 6px;
            text-align: center;
            font-size: 14px;
        }

        @media (max-width: 992px) {
            .stats-row {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .stats-row {
                grid-template-columns: 1fr;
            }
            
            .button-group {
                justify-content: center;
            }
            
            .btn {
                width: 100%;
            }
            
            .header, .form-section {
                padding: 25px;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <div class="header">
            <h1>Individual Summary Sheet</h1>
            <p>Please provide a summary of your professional background and qualifications</p>
        </div>

        <!-- Main Form -->
        <div class="form-section">
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                
                <!-- Instructions -->
                <div class="instructions">
                    <p><strong>Instructions:</strong> Fill in all summary information accurately. This will be used for initial screening.</p>
                    <p>Fields marked with * are mandatory.</p>
                </div>

                <!-- Profile Photo Section -->
                <h2 class="section-title">Profile Photo</h2>

                <div class="form-row">
                    <div class="form-group full-width">
                        <label>Upload Photograph</label>
                        <input type="file" name="photo" class="form-control" accept="image/*">
                        
                        {% if data.photo %}
                            <div style="margin-top:10px;">
                                <img src="{{ data.photo }}" style="height:120px;border-radius:8px;">
                            </div>
                        {% endif %}
                    </div>
                </div>

                <!-- Application Details -->
                <h2 class="section-title">Application Details</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="position_applied" class="required">Position Applied For</label>
                        <select name="position_applied" id="position_applied" class="form-control">
                            <option value="">Select Position</option>
                            <option value="Assistant Professor" {% if data.position_applied == "Assistant Professor" %}selected{% endif %}>Assistant Professor</option>
                            <option value="Associate Professor" {% if data.position_applied == "Associate Professor" %}selected{% endif %}>Associate Professor</option>
                            <option value="Professor" {% if data.position_applied == "Professor" %}selected{% endif %}>Professor</option>
                            <option value="Lecturer" {% if data.position_applied == "Lecturer" %}selected{% endif %}>Lecturer</option>
                            <option value="Researcher" {% if data.position_applied == "Researcher" %}selected{% endif %}>Researcher</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="department" class="required">Department</label>
                        <input type="text" 
                               name="department" 
                               id="department" 
                               class="form-control" 
                               placeholder="e.g., Computer Science"
                               value="{{ data.department|default:'' }}">
                    </div>
                </div>

                <!-- Candidate Information -->
                <h2 class="section-title">Candidate Information</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="name" class="required">Full Name</label>
                        <input type="text" 
                               name="name" 
                               id="name" 
                               class="form-control" 
                               placeholder="Enter your full name"
                               value="{{ data.name|default:'' }}">
                    </div>
                    
                    <div class="form-group">
                        <label for="age" class="required">Age</label>
                        <input type="number" 
                               name="age" 
                               id="age" 
                               class="form-control" 
                               placeholder="Age in years"
                               min="18" max="70"
                               value="{{ data.age|default:'' }}">
                    </div>
                </div>

                <!-- Current Position -->
                <div class="form-row">
                    <div class="form-group">
                        <label for="present_designation" class="required">Present Designation</label>
                        <input type="text" 
                               name="present_designation" 
                               id="present_designation" 
                               class="form-control" 
                               placeholder="e.g., Assistant Professor"
                               value="{{ data.present_designation|default:'' }}">
                    </div>
                    
                    <div class="form-group">
                        <label for="present_organization" class="required">Organization</label>
                        <input type="text" 
                               name="present_organization" 
                               id="present_organization" 
                               class="form-control" 
                               placeholder="e.g., University of California"
                               value="{{ data.present_organization|default:'' }}">
                    </div>
                </div>

                <!-- Qualifications -->
                <h2 class="section-title">Qualifications</h2>
                
                <div class="form-row">
                    <div class="form-group full-width">
                        <label for="qualification_summary">Qualifications Summary</label>
                        <input type="text" 
                               name="qualification_summary" 
                               id="qualification_summary" 
                               class="form-control" 
                               placeholder="e.g., Ph.D. in Computer Science, M.Tech in AI, B.Tech in CSE"
                               value="{{ data.qualification_summary|default:'' }}">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group full-width">
                        <label for="specialization" class="required">Specialization</label>
                        <input type="text" 
                               name="specialization" 
                               id="specialization" 
                               class="form-control" 
                               placeholder="e.g., Artificial Intelligence, Data Science"
                               value="{{ data.specialization|default:'' }}">
                    </div>
                </div>

                <!-- Years of Service -->
                <h2 class="section-title">Years of Service</h2>
                
                <div class="form-group">
                    <label>Academic Experience (in years)</label>
                    <div class="stats-row">
                        <div class="stats-group">
                            <label>Assistant Professor</label>
                            <input type="number" 
                                   name="assistant_professor_years" 
                                   class="stats-input" 
                                   placeholder="Years"
                                   min="0" max="50"
                                   value="{{ data.assistant_professor_years|default:'' }}">
                        </div>
                        <div class="stats-group">
                            <label>Associate Professor</label>
                            <input type="number" 
                                   name="associate_professor_years" 
                                   class="stats-input" 
                                   placeholder="Years"
                                   min="0" max="50"
                                   value="{{ data.associate_professor_years|default:'' }}">
                        </div>
                        <div class="stats-group">
                            <label>Professor</label>
                            <input type="number" 
                                   name="professor_years" 
                                   class="stats-input" 
                                   placeholder="Years"
                                   min="0" max="50"
                                   value="{{ data.professor_years|default:'' }}">
                        </div>
                        <div class="stats-group">
                            <label>Others</label>
                            <input type="number" 
                                   name="other_years" 
                                   class="stats-input" 
                                   placeholder="Years"
                                   min="0" max="50"
                                   value="{{ data.other_years|default:'' }}">
                        </div>
                    </div>
                </div>

                <!-- Research & Industry Experience -->
                <h2 class="section-title">Research & Industry Experience</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="research_experience_years">Research Experience (Years)</label>
                        <input type="number" 
                               name="research_experience_years" 
                               id="research_experience_years" 
                               class="form-control" 
                               placeholder="Years in research"
                               min="0" max="50"
                               value="{{ data.research_experience_years|default:'' }}">
                    </div>
                    
                    <div class="form-group">
                        <label for="industry_experience_years">Industry Experience (Years)</label>
                        <input type="number" 
                               name="industry_experience_years" 
                               id="industry_experience_years" 
                               class="form-control" 
                               placeholder="Years in industry"
                               min="0" max="50"
                               value="{{ data.industry_experience_years|default:'' }}">
                    </div>
                </div>

                <!-- Research Publications -->
                <h2 class="section-title">Research Publications</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="journal_publications">Journal Publications</label>
                        <input type="number" 
                               name="journal_publications" 
                               id="journal_publications" 
                               class="form-control" 
                               placeholder="Number of journal papers"
                               min="0"
                               value="{{ data.journal_publications|default:'' }}">
                    </div>
                    
                    <div class="form-group">
                        <label for="conference_publications">Conference Publications</label>
                        <input type="number" 
                               name="conference_publications" 
                               id="conference_publications" 
                               class="form-control" 
                               placeholder="Number of conference papers"
                               min="0"
                               value="{{ data.conference_publications|default:'' }}">
                    </div>
                </div>

                <!-- Students Guided -->
                <h2 class="section-title">Students Guided</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="students_guided_completed">Completed</label>
                        <input type="number" 
                               name="students_guided_completed" 
                               id="students_guided_completed" 
                               class="form-control" 
                               placeholder="Students completed"
                               min="0"
                               value="{{ data.students_guided_completed|default:'' }}">
                    </div>
                    
                    <div class="form-group">
                        <label for="students_guided_ongoing">Ongoing</label>
                        <input type="number" 
                               name="students_guided_ongoing" 
                               id="students_guided_ongoing" 
                               class="form-control" 
                               placeholder="Students ongoing"
                               min="0"
                               value="{{ data.students_guided_ongoing|default:'' }}">
                    </div>
                </div>

                <!-- Community Information -->
                <h2 class="section-title">Community Information</h2>
                
                <div class="form-row">
                    <div class="form-group full-width">
                        <label for="community_and_caste">Community & Caste</label>
                        <input type="text" 
                               name="community_and_caste" 
                               id="community_and_caste" 
                               class="form-control" 
                               placeholder="e.g., OBC - Yadav"
                               value="{{ data.community_and_caste|default:'' }}">
                    </div>
                </div>

                <!-- Navigation Button -->
                <div class="button-group">
                    <button type="submit" class="btn btn-next">
                        Save & Next <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Auto-calculate age based on date of birth
        // This would need to be integrated with a date of birth field from previous form
        // For now, it's kept simple
        
        document.addEventListener('DOMContentLoaded', function() {
            // Age validation
            const ageInput = document.getElementById('age');
            if (ageInput) {
                ageInput.addEventListener('input', function() {
                    if (this.value < 18) {
                        this.style.borderColor = '#e74c3c';
                    } else if (this.value > 70) {
                        this.style.borderColor = '#e74c3c';
                    } else {
                        this.style.borderColor = '#e0e6ed';
                    }
                });
            }
            
            // Auto-sum for years of service
            const yearInputs = document.querySelectorAll('.stats-input');
            yearInputs.forEach(input => {
                input.addEventListener('input', function() {
                    if (this.value < 0) this.value = 0;
                    if (this.value > 50) this.value = 50;
                });
            });
            
            // Publication count validation
            const publicationInputs = document.querySelectorAll('input[name*="publications"]');
            publicationInputs.forEach(input => {
                input.addEventListener('input', function() {
                    if (this.value < 0) this.value = 0;
                });
            });
        });
        
        // Form validation
        document.querySelector('form').addEventListener('submit', function(e) {
            const requiredFields = document.querySelectorAll('.required');
            let isValid = true;
            
            requiredFields.forEach(field => {
                const input = field.closest('.form-group').querySelector('input, select, textarea');
                if (!input || !input.value.trim()) {
                    isValid = false;
                    input.style.borderColor = '#e74c3c';
                    
                    // Add error message if not exists
                    if (!input.nextElementSibling || !input.nextElementSibling.classList.contains('error-message')) {
                        const error = document.createElement('div');
                        error.className = 'error-message';
                        error.style.color = '#e74c3c';
                        error.style.fontSize = '12px';
                        error.style.marginTop = '4px';
                        error.textContent = 'This field is required';
                        input.parentNode.appendChild(error);
                    }
                } else {
                    input.style.borderColor = '#e0e6ed';
                    // Remove error message if exists
                    const error = input.parentNode.querySelector('.error-message');
                    if (error) {
                        error.remove();
                    }
                    
                    // Age validation
                    if (input.id === 'age' && input.value) {
                        if (input.value < 18 || input.value > 70) {
                            isValid = false;
                            input.style.borderColor = '#e74c3c';
                            const error = document.createElement('div');
                            error.className = 'error-message';
                            error.style.color = '#e74c3c';
                            error.style.fontSize = '12px';
                            error.style.marginTop = '4px';
                            error.textContent = 'Age must be between 18 and 70 years';
                            input.parentNode.appendChild(error);
                        }
                    }
                    
                    // Number validation for all numeric inputs
                    if (input.type === 'number' && input.value) {
                        if (input.value < 0) {
                            isValid = false;
                            input.style.borderColor = '#e74c3c';
                            const error = document.createElement('div');
                            error.className = 'error-message';
                            error.style.color = '#e74c3c';
                            error.style.fontSize = '12px';
                            error.style.marginTop = '4px';
                            error.textContent = 'Value cannot be negative';
                            input.parentNode.appendChild(error);
                        }
                    }
                }
            });
            
            if (!isValid) {
                e.preventDefault();
                alert('Please fill all required fields marked with * and ensure they contain valid data.');
            }
        });
    </script>
</body>
</html>