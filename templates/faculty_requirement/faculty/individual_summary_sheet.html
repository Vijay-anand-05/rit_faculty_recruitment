<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Individual Summary Sheet</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Calibri', 'Segoe UI', sans-serif; background: #f8f9fa; padding: 20px; color: #333; }
        
        .container { max-width: 1000px; margin: 0 auto; background: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); overflow: hidden; border: 1px solid #ddd; }
        
        .header { background: #003366; color: white; padding: 20px; text-align: center; border-bottom: 4px solid #ffcc00; }
        .header h1 { font-size: 24px; margin-bottom: 5px; font-weight: 600; }
        .header p { font-size: 14px; opacity: 0.9; }
        
        .form-section { padding: 25px; }
        
        .section-title { color: #003366; font-size: 18px; font-weight: 600; margin: 25px 0 15px; padding-bottom: 8px; border-bottom: 2px solid #e0e0e0; }
        
        .form-row { display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 15px; }
        .form-group { flex: 1; min-width: 200px; margin-bottom: 15px; }
        
        label { display: block; margin-bottom: 5px; color: #003366; font-weight: 500; font-size: 14px; }
        .required:after { content: " *"; color: #d32f2f; }
        
        .form-control, select { width: 100%; padding: 8px 12px; border: 1px solid #ccc; border-radius: 4px; font-size: 14px; }
        .form-control:focus, select:focus { outline: none; border-color: #003366; }
        
        .btn { padding: 8px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; transition: 0.3s; }
        .btn-next { background: #003366; color: white; }
        .btn-next:hover { background: #002244; }
        
        .button-group { display: flex; justify-content: flex-end; margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee; }
        
        .instructions { background: #e7f1ff; border-left: 3px solid #003366; padding: 10px 15px; margin-bottom: 20px; font-size: 13px; }
        
        .stats-row { display: flex; flex-wrap: wrap; gap: 10px; background: #f5f7fa; padding: 15px; border-radius: 4px; }
        .stats-group { flex: 1; min-width: 120px; }
        .stats-input { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; text-align: center; }
        
        .full-width { flex: 1 0 100%; }
        
        .image-preview-container {
            margin-top: 15px;
            text-align: center;
        }
        
        .image-preview {
            max-width: 100%;
            max-height: 200px;
            border-radius: 8px;
            border: 2px solid #ddd;
            display: none;
        }
        
        @media (max-width: 768px) {
            .form-group, .stats-group { min-width: 100%; }
            .button-group { justify-content: center; }
            .btn { width: 100%; }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Individual Summary Sheet</h1>
            <p>Summary of your professional background and qualifications</p>
        </div>

        <div class="form-section">
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                
                <div class="instructions">
                    <p><strong>Instructions:</strong> Fill all summary information accurately. Fields marked * are mandatory.</p>
                </div>

                <h2 class="section-title">Profile Photo</h2>
                <div class="form-row">
                    <div class="form-group full-width">
                        <label>Upload Photograph</label>
                        <input type="file" name="photo" id="photoInput" class="form-control" accept="image/*">
                        
                        <!-- Image preview container -->
                        <div class="image-preview-container">
                            {% if data.photo %}
                                <img id="imagePreview" src="{{ data.photo }}" class="image-preview" style="display: block;">
                            {% else %}
                                <img id="imagePreview" class="image-preview">
                            {% endif %}
                        </div>
                    </div>
                </div>

                <h2 class="section-title">Application Details</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label class="required">Position Applied For</label>
                        <select name="position_applied" class="form-control">
                            <option value="">Select Position</option>
                            <option value="Assistant Professor" {% if data.position_applied == "Assistant Professor" %}selected{% endif %}>Assistant Professor</option>
                            <option value="Associate Professor" {% if data.position_applied == "Associate Professor" %}selected{% endif %}>Associate Professor</option>
                            <option value="Professor" {% if data.position_applied == "Professor" %}selected{% endif %}>Professor</option>
                            <option value="Lecturer" {% if data.position_applied == "Lecturer" %}selected{% endif %}>Lecturer</option>
                            <option value="Researcher" {% if data.position_applied == "Researcher" %}selected{% endif %}>Researcher</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="required">Department</label>
                        <input type="text" name="department" class="form-control" value="{{ data.department|default:'' }}">
                    </div>
                </div>

                <h2 class="section-title">Candidate Information</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label class="required">Full Name</label>
                        <input type="text" name="name" class="form-control" value="{{ data.name|default:'' }}">
                    </div>
                    
                    <div class="form-group">
                        <label class="required">Age</label>
                        <input type="number" name="age" class="form-control" value="{{ data.age|default:'' }}">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="required">Present Designation</label>
                        <input type="text" name="present_designation" class="form-control" value="{{ data.present_designation|default:'' }}">
                    </div>
                    
                    <div class="form-group">
                        <label class="required">Organization</label>
                        <input type="text" name="present_organization" class="form-control" value="{{ data.present_organization|default:'' }}">
                    </div>
                </div>

                <h2 class="section-title">Qualifications</h2>
                <div class="form-row">
                    <div class="form-group full-width">
                        <label>Qualifications Summary</label>
                        <input type="text" name="qualification_summary" class="form-control" value="{{ data.qualification_summary|default:'' }}">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group full-width">
                        <label class="required">Specialization</label>
                        <input type="text" name="specialization" class="form-control" value="{{ data.specialization|default:'' }}">
                    </div>
                </div>

                <h2 class="section-title">Years of Service</h2>
                <div class="stats-row">
                    <div class="stats-group">
                        <label>Assistant Professor</label>
                        <input type="number" name="assistant_professor_years" class="stats-input" value="{{ data.assistant_professor_years|default:'' }}">
                    </div>
                    <div class="stats-group">
                        <label>Associate Professor</label>
                        <input type="number" name="associate_professor_years" class="stats-input" value="{{ data.associate_professor_years|default:'' }}">
                    </div>
                    <div class="stats-group">
                        <label>Professor</label>
                        <input type="number" name="professor_years" class="stats-input" value="{{ data.professor_years|default:'' }}">
                    </div>
                    <div class="stats-group">
                        <label>Others</label>
                        <input type="number" name="other_years" class="stats-input" value="{{ data.other_years|default:'' }}">
                    </div>
                </div>

                <h2 class="section-title">Research & Industry Experience</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label>Research Experience (Years)</label>
                        <input type="number" name="research_experience_years" class="form-control" value="{{ data.research_experience_years|default:'' }}">
                    </div>
                    
                    <div class="form-group">
                        <label>Industry Experience (Years)</label>
                        <input type="number" name="industry_experience_years" class="form-control" value="{{ data.industry_experience_years|default:'' }}">
                    </div>
                </div>

                <h2 class="section-title">Research Publications</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label>Journal Publications</label>
                        <input type="number" name="journal_publications" class="form-control" value="{{ data.journal_publications|default:'' }}">
                    </div>
                    
                    <div class="form-group">
                        <label>Conference Publications</label>
                        <input type="number" name="conference_publications" class="form-control" value="{{ data.conference_publications|default:'' }}">
                    </div>
                </div>

                <h2 class="section-title">Students Guided</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label>Completed</label>
                        <input type="number" name="students_guided_completed" class="form-control" value="{{ data.students_guided_completed|default:'' }}">
                    </div>
                    
                    <div class="form-group">
                        <label>Ongoing</label>
                        <input type="number" name="students_guided_ongoing" class="form-control" value="{{ data.students_guided_ongoing|default:'' }}">
                    </div>
                </div>

                <h2 class="section-title">Community Information</h2>
                <div class="form-row">
                    <div class="form-group full-width">
                        <label>Community & Caste</label>
                        <input type="text" name="community_and_caste" class="form-control" value="{{ data.community_and_caste|default:'' }}">
                    </div>
                </div>

                <div class="button-group">
                    <button type="submit" class="btn btn-next">Save & Next <i class="fas fa-arrow-right"></i></button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Image preview functionality
        document.getElementById('photoInput').addEventListener('change', function(event) {
            const file = event.target.files[0];
            const preview = document.getElementById('imagePreview');
            
            if (file) {
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                }
                
                reader.readAsDataURL(file);
            } else {
                preview.style.display = 'none';
                preview.src = '';
            }
        });
        
        // Form validation
        document.querySelector('form').addEventListener('submit', function(e) {
            const required = document.querySelectorAll('.required');
            let valid = true;
            
            required.forEach(field => {
                const input = field.closest('.form-group').querySelector('input, select');
                if (!input.value.trim()) {
                    valid = false;
                    input.style.borderColor = '#d32f2f';
                }
            });
            
            if (!valid) {
                e.preventDefault();
                alert('Please fill all required fields (*)');
            }
        });
        
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('input[type="number"]').forEach(input => {
                input.addEventListener('input', function() {
                    if (this.value < 0) this.value = 0;
                });
            });
            
            // Show existing image on page load if available
            const existingImage = document.getElementById('imagePreview');
            if (existingImage && existingImage.src && existingImage.src.trim() !== '') {
                existingImage.style.display = 'block';
            }
        });
    </script>
</body>
</html>